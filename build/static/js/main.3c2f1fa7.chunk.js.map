{"version":3,"sources":["components/Filter.js","components/Form.js","components/Persons.js","service/personServ.js","components/Notification.js","App.js","index.js"],"names":["Filter","searchField","handleSearch","value","onChange","Form","handleClick","handleNameChange","handleNumberChange","newName","newNumber","onSubmit","type","Persons","persons","filteredPersons","removePerson","map","person","key","name","number","onClick","id","baseURL","axios","get","then","response","data","newObject","post","removedObject","delete","updatedObject","put","Notification","message","errorStyle","style","fontSize","color","fontStyle","backgroundColor","App","useState","setPersons","setNewName","setNewNumber","setSearchField","setFilteredPersons","notifMessage","setNotifMessage","setErrorStyle","useEffect","personService","event","target","newArray","filter","toLowerCase","includes","preventDefault","personIndex","findIndex","personId","window","confirm","personNewInformation","returnedPersons","setTimeout","catch","error","newPerson","concat","removingPerson","removal","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3c2f1fa7.chunk.js","sourcesContent":["import React from \"react\"\r\n\r\nconst Filter = ({searchField, handleSearch}) => (\r\n    <div>filter shown with <input value={searchField} onChange={handleSearch} /></div>\r\n)\r\n\r\nexport default Filter","import React from \"react\"\r\n\r\nconst Form = ({handleClick, handleNameChange, handleNumberChange, newName, newNumber}) => (\r\n    <form onSubmit={handleClick}>\r\n        <div>\r\n          name: <input value={newName} onChange={handleNameChange}/>\r\n        </div>\r\n        <div>\r\n          number: <input value={newNumber} onChange={handleNumberChange}/>\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n    </form>\r\n)\r\n\r\nexport default Form","import React from \"react\"\r\n\r\nconst Persons = ({searchField, persons, filteredPersons, removePerson}) => (\r\n    <div>\r\n        {searchField === \"\" ? persons.map(person => <div key={person.name}>{person.name} {person.number} <button onClick={() => removePerson(person.id)}>delete</button></div>) : filteredPersons.map(person => <div key={person.name}>{person.name} {person.number} <button onClick={() => removePerson(person.id)}>delete</button></div>)}\r\n    </div>\r\n)\r\n\r\nexport default Persons","import axios from \"axios\"\r\nconst baseURL = \"/api/persons\"\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseURL)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst add = newObject => {\r\n    const request = axios.post(baseURL, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst remove = removedObject => axios.delete(`${baseURL}/${removedObject}`)\r\n\r\nconst update = (id, updatedObject) => {\r\n    const request = axios.put(`${baseURL}/${id}`, updatedObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\n\r\nexport default {getAll, add, remove, update}","import React from \"react\"\r\n\r\nconst Notification = ({message, errorStyle}) => {\r\n    const successStyle = {\r\n        fontSize: 35,\r\n        color: \"green\",\r\n        fontStyle: \"italics\",\r\n        backgroundColor: \"lightgrey\"\r\n    }\r\n    const failedStyle = {\r\n        fontSize: 35,\r\n        color: \"red\",\r\n        fontStyle: \"italics\",\r\n        backgroundColor: \"lightgrey\"\r\n    }\r\n    if (message === null) {\r\n        return null\r\n    }\r\n    return (\r\n        <span style={errorStyle ? failedStyle : successStyle}>\r\n            {message}\r\n        </span>\r\n    )\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\r\nimport Filter from \"./components/Filter\"\r\nimport Form from \"./components/Form\"\r\nimport Persons from \"./components/Persons\"\r\nimport personService from \"./service/personServ\"\r\nimport Notification from \"./components/Notification\"\r\n\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons ] = useState([]) \r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const [ searchField, setSearchField ] = useState('')\r\n  const [ filteredPersons, setFilteredPersons ] = useState([])\r\n  const [ notifMessage, setNotifMessage ] = useState(null)\r\n  const [ errorStyle, setErrorStyle ] = useState(false)\r\n\r\n  useEffect(() => {\r\n    personService\r\n      .getAll()\r\n      .then(response => {\r\n        setPersons(response)\r\n        setFilteredPersons(response)\r\n    })\r\n  }, [])\r\n  \r\n  const handleNameChange = (event) => setNewName(event.target.value)\r\n  const handleNumberChange = (event) => setNewNumber(event.target.value)\r\n\r\n  const handleSearch = (event) => {\r\n    setSearchField(event.target.value)\r\n    const newArray = persons.filter(person => person.name.toLowerCase().includes(event.target.value.toLowerCase()))\r\n    return (\r\n      setFilteredPersons(newArray)\r\n    )\r\n  }\r\n\r\n  const handleClick = (event) => {\r\n    event.preventDefault()\r\n    const personIndex = persons.findIndex(person => person.name === newName)\r\n    if (personIndex >= 0) {\r\n      const personId = persons[personIndex].id\r\n        if (window.confirm(`${newName} is already in the phone book, replace old number with new one?`)) {\r\n          const personNewInformation = {...persons[personIndex], number: newNumber}\r\n          personService\r\n            .update(personId, personNewInformation)\r\n            .then(returnedPersons => {\r\n              setPersons(persons.map(person => person.id === personId ? returnedPersons : person))\r\n              setNotifMessage(`${persons[personIndex].name}' number was changed!`)\r\n              setNewName(\"\")\r\n              setNewNumber(\"\")\r\n              setTimeout(() => {\r\n                setNotifMessage(null)\r\n              }, 3000)\r\n            })\r\n            .catch(error => {\r\n              setErrorStyle(true)\r\n              setNotifMessage(`${persons[personIndex].name} has already been deleted!`)\r\n              setTimeout(() => {\r\n                setNotifMessage(null)\r\n                setErrorStyle(false)\r\n              }, 3000)\r\n            })\r\n        }\r\n    } else {\r\n        const newPerson = {\r\n            name: newName,\r\n            number: newNumber\r\n        }\r\n        personService\r\n          .add(newPerson)\r\n          .then(response => {\r\n            setPersons(persons.concat(response))\r\n            setNewName(\"\")\r\n            setNewNumber(\"\")\r\n            setNotifMessage(`${newPerson.name} was added to the Phonebook!`)\r\n            setTimeout(() => {\r\n              setNotifMessage(null)\r\n          }, 3000)\r\n    })\r\n          .catch(error => {\r\n            setErrorStyle(true)\r\n            setNotifMessage(error.response.data)\r\n            setTimeout(() => {\r\n              setErrorStyle(false)\r\n              setNotifMessage(null)\r\n            }, 3000)\r\n          })\r\n  }\r\n}\r\n\r\n  const removePerson = id => {\r\n    const removingPerson = persons.findIndex(removal => removal.id === id)\r\n    if (window.confirm(`Do you really want to delete ${persons[removingPerson].name}?`)) {\r\n      personService\r\n        .remove(id)\r\n        .then(() => {\r\n          setPersons(persons.filter(person => person.id !== id))\r\n        })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook - New</h2>\r\n      <Filter searchField={searchField} handleSearch={handleSearch}/>\r\n      <h3>Add new contact</h3>\r\n      <Form handleClick={handleClick} handleNameChange={handleNameChange} handleNumberChange={handleNumberChange} newName={newName} newNumber={newNumber}/>\r\n      <Notification message={notifMessage} errorStyle={errorStyle} />\r\n      <h2>Numbers</h2>\r\n      <Persons searchField={searchField} persons={persons} filteredPersons={filteredPersons} removePerson={removePerson}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}