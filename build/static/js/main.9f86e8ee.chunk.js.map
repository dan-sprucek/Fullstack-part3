{"version":3,"sources":["components/Filter.js","components/Form.js","components/Persons.js","service/personServ.js","components/Notification.js","App.js","index.js"],"names":["Filter","searchField","handleSearch","style","value","onChange","Form","handleClick","handleNameChange","handleNumberChange","newName","newNumber","className","onSubmit","type","Persons","persons","filteredPersons","removePerson","map","person","key","name","number","onClick","id","baseURL","axios","get","then","response","data","newObject","post","removedObject","delete","updatedObject","put","Notification","message","errorStyle","fontSize","color","fontStyle","backgroundColor","App","useState","setPersons","setNewName","setNewNumber","setSearchField","setFilteredPersons","notifMessage","setNotifMessage","setErrorStyle","useEffect","personService","event","preventDefault","personIndex","findIndex","personId","window","confirm","personNewInformation","returnedPersons","setTimeout","catch","error","newPerson","concat","target","newArray","filter","toLowerCase","includes","removingPerson","removal","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9f86e8ee.chunk.js","sourcesContent":["import React from \"react\"\r\n\r\nconst Filter = ({searchField, handleSearch}) => (\r\n    <div style={{\"marginBottom\": 20}}>Search: <input value={searchField} onChange={handleSearch} /></div>\r\n)\r\n\r\nexport default Filter","import React from \"react\"\r\n\r\nconst Form = ({handleClick, handleNameChange, handleNumberChange, newName, newNumber}) => (\r\n    <form className='add-container' onSubmit={handleClick}>\r\n        <div>\r\n          <div>Name: </div>\r\n          <input value={newName} onChange={handleNameChange}/>\r\n          <div>Number: </div>\r\n          <input value={newNumber} onChange={handleNumberChange}/>\r\n        </div>\r\n        <div>\r\n          <button style={{'marginTop': 20}} type=\"submit\">ADD CONTACT</button>\r\n        </div>\r\n    </form>\r\n)\r\n\r\nexport default Form","import React from \"react\"\r\n\r\nconst Persons = ({searchField, persons, filteredPersons, removePerson}) => (\r\n    <div>\r\n        {searchField === \"\" ? persons.map(person => <div key={person.name}><span>{person.name} {person.number} </span><button className='delete-btn' onClick={() => removePerson(person.id)}>delete</button></div>) : filteredPersons.map(person => <div key={person.name}>{person.name} {person.number} <button onClick={() => removePerson(person.id)}>delete</button></div>)}\r\n    </div>\r\n)\r\n\r\nexport default Persons","import axios from \"axios\"\r\nconst baseURL = \"/api/persons\"\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseURL)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst add = newObject => {\r\n    const request = axios.post(baseURL, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst remove = removedObject => axios.delete(`${baseURL}/${removedObject}`)\r\n\r\nconst update = (id, updatedObject) => {\r\n    const request = axios.put(`${baseURL}/${id}`, updatedObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\n\r\nexport default {getAll, add, remove, update}","import React from \"react\"\r\n\r\nconst Notification = ({message, errorStyle}) => {\r\n    const successStyle = {\r\n        fontSize: 35,\r\n        color: \"green\",\r\n        fontStyle: \"italics\",\r\n        backgroundColor: \"lightgrey\"\r\n    }\r\n    const failedStyle = {\r\n        fontSize: 35,\r\n        color: \"red\",\r\n        fontStyle: \"italics\",\r\n        backgroundColor: \"lightgrey\"\r\n    }\r\n    if (message === null) {\r\n        return null\r\n    }\r\n    return (\r\n        <span style={errorStyle ? failedStyle : successStyle}>\r\n            {message}\r\n        </span>\r\n    )\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\r\nimport Filter from \"./components/Filter\"\r\nimport Form from \"./components/Form\"\r\nimport Persons from \"./components/Persons\"\r\nimport personService from \"./service/personServ\"\r\nimport Notification from \"./components/Notification\"\r\n\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons ] = useState([]) \r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const [ searchField, setSearchField ] = useState('')\r\n  const [ filteredPersons, setFilteredPersons ] = useState([])\r\n  const [ notifMessage, setNotifMessage ] = useState(null)\r\n  const [ errorStyle, setErrorStyle ] = useState(false)\r\n\r\n  useEffect(() => {\r\n    personService\r\n      .getAll()\r\n      .then(response => {\r\n        setPersons(response)\r\n        setFilteredPersons(response)\r\n    })\r\n  }, [])\r\n  \r\n  const handleNameChange = (event) => setNewName(event.target.value)\r\n  const handleNumberChange = (event) => setNewNumber(event.target.value)\r\n\r\n  const handleSearch = (event) => {\r\n    setSearchField(event.target.value)\r\n    const newArray = persons.filter(person => person.name.toLowerCase().includes(event.target.value.toLowerCase()))\r\n    return (\r\n      setFilteredPersons(newArray)\r\n    )\r\n  }\r\n\r\n  const handleClick = (event) => {\r\n    event.preventDefault()\r\n    const personIndex = persons.findIndex(person => person.name === newName)\r\n    if (personIndex >= 0) {\r\n      const personId = persons[personIndex].id\r\n        if (window.confirm(`${newName} is already in the phone book, replace old number with new one?`)) {\r\n          const personNewInformation = {...persons[personIndex], number: newNumber}\r\n          personService\r\n            .update(personId, personNewInformation)\r\n            .then(returnedPersons => {\r\n              setPersons(persons.map(person => person.id === personId ? returnedPersons : person))\r\n              setNotifMessage(`${persons[personIndex].name}' number was changed!`)\r\n              setNewName(\"\")\r\n              setNewNumber(\"\")\r\n              setTimeout(() => {\r\n                setNotifMessage(null)\r\n              }, 3000)\r\n            })\r\n            .catch(error => {\r\n              setErrorStyle(true)\r\n              setNotifMessage(error.response.data.error)\r\n              setTimeout(() => {\r\n                setNotifMessage(null)\r\n                setErrorStyle(false)\r\n              }, 3000)\r\n            })\r\n        }\r\n    } else {\r\n        const newPerson = {\r\n            name: newName,\r\n            number: newNumber\r\n        }\r\n        personService\r\n          .add(newPerson)\r\n          .then(response => {\r\n            setPersons(persons.concat(response))\r\n            setNewName(\"\")\r\n            setNewNumber(\"\")\r\n            setNotifMessage(`${newPerson.name} was added to the Phonebook!`)\r\n            setTimeout(() => {\r\n              setNotifMessage(null)\r\n          }, 3000)\r\n    })\r\n          .catch(error => {\r\n            setErrorStyle(true)\r\n            setNotifMessage(error.response.data.error)\r\n            setTimeout(() => {\r\n              setErrorStyle(false)\r\n              setNotifMessage(null)\r\n            }, 3000)\r\n          })\r\n  }\r\n}\r\n\r\n  const removePerson = id => {\r\n    const removingPerson = persons.findIndex(removal => removal.id === id)\r\n    if (window.confirm(`Do you really want to delete ${persons[removingPerson].name}?`)) {\r\n      personService\r\n        .remove(id)\r\n        .then(() => {\r\n          setPersons(persons.filter(person => person.id !== id))\r\n        })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className='flexbox-container'>\r\n      <div className='phonebook-container'>\r\n        <h1>Phonebook</h1>\r\n        <h2>Add new contact</h2>\r\n        <Form handleClick={handleClick} handleNameChange={handleNameChange} handleNumberChange={handleNumberChange} newName={newName} newNumber={newNumber}/>\r\n        <Notification message={notifMessage} errorStyle={errorStyle} />\r\n        <h2>Contacts</h2>\r\n        <Filter searchField={searchField} handleSearch={handleSearch}/>\r\n        <Persons searchField={searchField} persons={persons} filteredPersons={filteredPersons} removePerson={removePerson}/>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}