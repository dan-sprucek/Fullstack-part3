{"version":3,"sources":["components/Filter.js","components/Form.js","components/Persons.js","service/personServ.js","components/Notification.js","App.js","index.js"],"names":["Filter","searchField","handleSearch","style","value","onChange","Form","handleClick","handleNameChange","handleNumberChange","newName","newNumber","className","onSubmit","type","Persons","persons","filteredPersons","removePerson","map","person","key","name","number","onClick","id","baseURL","axios","get","then","response","data","newObject","post","removedObject","delete","updatedObject","put","Notification","message","errorStyle","fontSize","color","fontStyle","backgroundColor","textAlign","padding","App","useState","setPersons","setNewName","setNewNumber","setSearchField","setFilteredPersons","notifMessage","setNotifMessage","setErrorStyle","useEffect","personService","title","event","preventDefault","personIndex","findIndex","personId","window","confirm","personNewInformation","returnedPersons","setTimeout","catch","error","newPerson","concat","target","newArray","filter","toLowerCase","includes","removingPerson","removal","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e8e11822.chunk.js","sourcesContent":["import React from \"react\"\r\n\r\nconst Filter = ({searchField, handleSearch}) => (\r\n    <div style={{\"marginBottom\": 20}}>Search: <input value={searchField} onChange={handleSearch} /></div>\r\n)\r\n\r\nexport default Filter","import React from \"react\"\r\n\r\nconst Form = ({handleClick, handleNameChange, handleNumberChange, newName, newNumber}) => (\r\n    <form className='add-container' onSubmit={handleClick}>\r\n        <div>\r\n          <div>Name: </div>\r\n          <input value={newName} onChange={handleNameChange}/>\r\n          <div>Number: </div>\r\n          <input value={newNumber} onChange={handleNumberChange}/>\r\n        </div>\r\n        <div>\r\n          <button style={{'marginTop': 20}} type=\"submit\">ADD CONTACT</button>\r\n        </div>\r\n    </form>\r\n)\r\n\r\nexport default Form","import React from \"react\"\r\n\r\nconst Persons = ({searchField, persons, filteredPersons, removePerson}) => (\r\n    <div className='contacts-container'>\r\n        {searchField === \"\" ? persons.map(person => <div key={person.name}><span className='contacts'>{person.name} {person.number} </span><button className='delete-btn' onClick={() => removePerson(person.id)}>delete</button></div>) : filteredPersons.map(person => <div key={person.name}>{person.name} {person.number} <button onClick={() => removePerson(person.id)}>delete</button></div>)}\r\n    </div>\r\n)\r\n\r\nexport default Persons","import axios from \"axios\"\r\nconst baseURL = \"/api/persons\"\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseURL)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst add = newObject => {\r\n    const request = axios.post(baseURL, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst remove = removedObject => axios.delete(`${baseURL}/${removedObject}`)\r\n\r\nconst update = (id, updatedObject) => {\r\n    const request = axios.put(`${baseURL}/${id}`, updatedObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\n\r\nexport default {getAll, add, remove, update}","import React from \"react\"\r\n\r\nconst Notification = ({message, errorStyle}) => {\r\n    const successStyle = {\r\n        fontSize: 20,\r\n        color: \"green\",\r\n        fontStyle: \"italic\",\r\n        backgroundColor: \"white\",\r\n        textAlign: 'center',\r\n        padding: 2\r\n    }\r\n    const failedStyle = {\r\n        fontSize: 20,\r\n        color: \"red\",\r\n        fontStyle: \"italic\",\r\n        backgroundColor: \"white\",\r\n        textAlign: 'center',\r\n        padding: 2\r\n    }\r\n    if (message === null) {\r\n        return null\r\n    }\r\n    return (\r\n        <span style={errorStyle ? failedStyle : successStyle}>\r\n            {message}\r\n        </span>\r\n    )\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\r\nimport Filter from \"./components/Filter\"\r\nimport Form from \"./components/Form\"\r\nimport Persons from \"./components/Persons\"\r\nimport personService from \"./service/personServ\"\r\nimport Notification from \"./components/Notification\"\r\n\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons ] = useState([]) \r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const [ searchField, setSearchField ] = useState('')\r\n  const [ filteredPersons, setFilteredPersons ] = useState([])\r\n  const [ notifMessage, setNotifMessage ] = useState(null)\r\n  const [ errorStyle, setErrorStyle ] = useState(false)\r\n\r\n  useEffect(() => {\r\n    personService\r\n      .getAll()\r\n      .then(response => {\r\n        setPersons(response)\r\n        setFilteredPersons(response)\r\n    })\r\n  }, [])\r\n  \r\n  const handleNameChange = (event) => setNewName(event.target.value)\r\n  const handleNumberChange = (event) => setNewNumber(event.target.value)\r\n\r\n  const handleSearch = (event) => {\r\n    setSearchField(event.target.value)\r\n    const newArray = persons.filter(person => person.name.toLowerCase().includes(event.target.value.toLowerCase()))\r\n    return (\r\n      setFilteredPersons(newArray)\r\n    )\r\n  }\r\n\r\n  const handleClick = (event) => {\r\n    event.preventDefault()\r\n    const personIndex = persons.findIndex(person => person.name === newName)\r\n    if (personIndex >= 0) {\r\n      const personId = persons[personIndex].id\r\n        if (window.confirm(`${newName} is already in the phone book, replace old number with new one?`)) {\r\n          const personNewInformation = {...persons[personIndex], number: newNumber}\r\n          personService\r\n            .update(personId, personNewInformation)\r\n            .then(returnedPersons => {\r\n              setPersons(persons.map(person => person.id === personId ? returnedPersons : person))\r\n              setNotifMessage(`${persons[personIndex].name}' number was changed!`)\r\n              setNewName(\"\")\r\n              setNewNumber(\"\")\r\n              setTimeout(() => {\r\n                setNotifMessage(null)\r\n              }, 3000)\r\n            })\r\n            .catch(error => {\r\n              setErrorStyle(true)\r\n              setNotifMessage(error.response.data.error)\r\n              setTimeout(() => {\r\n                setNotifMessage(null)\r\n                setErrorStyle(false)\r\n              }, 3000)\r\n            })\r\n        }\r\n    } else {\r\n        const newPerson = {\r\n            name: newName,\r\n            number: newNumber\r\n        }\r\n        personService\r\n          .add(newPerson)\r\n          .then(response => {\r\n            setPersons(persons.concat(response))\r\n            setNewName(\"\")\r\n            setNewNumber(\"\")\r\n            setNotifMessage(`${newPerson.name} was added to the Phonebook!`)\r\n            setTimeout(() => {\r\n              setNotifMessage(null)\r\n          }, 3000)\r\n    })\r\n          .catch(error => {\r\n            setErrorStyle(true)\r\n            setNotifMessage(error.response.data.error)\r\n            setTimeout(() => {\r\n              setErrorStyle(false)\r\n              setNotifMessage(null)\r\n            }, 3000)\r\n          })\r\n  }\r\n}\r\n\r\n  const removePerson = id => {\r\n    const removingPerson = persons.findIndex(removal => removal.id === id)\r\n    if (window.confirm(`Do you really want to delete ${persons[removingPerson].name}?`)) {\r\n      personService\r\n        .remove(id)\r\n        .then(() => {\r\n          setPersons(persons.filter(person => person.id !== id))\r\n        })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className='flexbox-container'>\r\n      <div className='phonebook-container'>\r\n        <h1>Phonebook</h1>\r\n        <h2 title='Name has to be at least 3 chars long, number at least 8 chars long'>Add new contact*</h2>\r\n        <Form handleClick={handleClick} handleNameChange={handleNameChange} handleNumberChange={handleNumberChange} newName={newName} newNumber={newNumber}/>\r\n        <Notification message={notifMessage} errorStyle={errorStyle} />\r\n        <h2>Contacts</h2>\r\n        <Filter searchField={searchField} handleSearch={handleSearch}/>\r\n        <Persons searchField={searchField} persons={persons} filteredPersons={filteredPersons} removePerson={removePerson}/>\r\n        <p style={{'fontSize': 'small'}}>*Name has to be at least 3 chars long, number at least 8 chars long</p>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}